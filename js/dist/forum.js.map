{"version":3,"sources":["webpack://@flarum/tags/webpack/bootstrap","webpack://@flarum/tags/./forum.js","webpack://@flarum/tags/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@flarum/tags/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/tags/./src/common/compat.js","webpack://@flarum/tags/./src/common/helpers/tagIcon.js","webpack://@flarum/tags/./src/common/helpers/tagLabel.js","webpack://@flarum/tags/./src/common/helpers/tagsLabel.js","webpack://@flarum/tags/./src/common/models/Tag.js","webpack://@flarum/tags/./src/common/utils/sortTags.js","webpack://@flarum/tags/./src/forum/addTagComposer.js","webpack://@flarum/tags/./src/forum/addTagControl.js","webpack://@flarum/tags/./src/forum/addTagFilter.js","webpack://@flarum/tags/./src/forum/addTagLabels.js","webpack://@flarum/tags/./src/forum/addTagList.js","webpack://@flarum/tags/./src/forum/compat.js","webpack://@flarum/tags/./src/forum/components/DiscussionTaggedPost.js","webpack://@flarum/tags/./src/forum/components/TagDiscussionModal.js","webpack://@flarum/tags/./src/forum/components/TagHero.js","webpack://@flarum/tags/./src/forum/components/TagLinkButton.js","webpack://@flarum/tags/./src/forum/components/TagsPage.js","webpack://@flarum/tags/./src/forum/index.js","webpack://@flarum/tags/external \"flarum.core\"","webpack://@flarum/tags/external \"flarum.core.compat['Component']\"","webpack://@flarum/tags/external \"flarum.core.compat['Model']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Button']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/DiscussionComposer']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/DiscussionHero']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/DiscussionList']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/DiscussionListItem']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/EventPost']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/IndexPage']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/LinkButton']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Modal']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Page']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Separator']\"","webpack://@flarum/tags/external \"flarum.core.compat['extend']\"","webpack://@flarum/tags/external \"flarum.core.compat['helpers/highlight']\"","webpack://@flarum/tags/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@flarum/tags/external \"flarum.core.compat['helpers/listItems']\"","webpack://@flarum/tags/external \"flarum.core.compat['models/Discussion']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/KeyboardNavigatable']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/classList']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/computed']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/extract']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/extractText']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/mixin']\""],"names":["sortTags","Tag","tagsLabel","tagIcon","tagLabel","tag","attrs","settings","hasIcon","icon","useColor","className","classList","style","color","backgroundColor","link","extract","tagText","name","app","translator","trans","title","description","href","route","tags","slug","config","m","children","forEach","length","push","mixin","Model","attribute","backgroundUrl","backgroundMode","position","parent","hasOne","hasMany","defaultSort","isChild","isHidden","discussionCount","lastPostedAt","transformDate","lastPostedDiscussion","isRestricted","canStartDiscussion","canAddToDiscussion","isPrimary","computed","slice","sort","a","b","aPos","bPos","aParent","bParent","extend","IndexPage","prototype","promise","store","getBy","params","then","component","DiscussionComposer","chooseTags","modal","show","TagDiscussionModal","selectedTags","onsubmit","$","focus","items","add","bind","override","original","chosenTags","chosenPrimaryTags","filter","chosenSecondaryTags","forum","data","relationships","DiscussionControls","discussion","canTag","Button","onclick","currentActiveTag","currentTag","find","include","redraw","TagHero","vdom","id","setTitle","get","props","disabled","param","DiscussionList","q","DiscussionListItem","DiscussionPage","DiscussionHero","view","LinkButton","current","TagsPage","Separator","stickyParams","all","addTag","active","TagLinkButton","more","splice","compat","addTagFilter","addTagControl","DiscussionTaggedPost","addTagList","addTagLabels","addTagComposer","initProps","oldTags","post","content","newTags","diffTags","tags1","tags2","indexOf","map","getById","tagsAdded","tagsRemoved","descriptionKey","descriptionData","transChoice","count","EventPost","init","selected","prop","index","focused","minPrimary","maxPrimary","minSecondary","maxSecondary","navigator","KeyboardNavigatable","onUp","setIndex","getCurrentNumericIndex","onDown","onSelect","select","onRemove","primaryCount","secondaryCount","removeTag","getInstruction","remaining","toLowerCase","substr","inputWidth","Math","max","extractText","onready","width","withAttr","navigate","type","pinned","child","colored","toggleTag","highlight","e","metaKey","ctrlKey","submit","getItem","dispatchEvent","Event","selectableItems","scrollToItem","$items","$dropdown","$item","eq","attr","dropdownScroll","scrollTop","dropdownTop","offset","top","dropdownBottom","outerHeight","itemTop","itemBottom","parseInt","css","stop","animate","preventDefault","save","stream","update","close","strategy","Modal","Component","constructor","isActive","history","cloud","hero","affixSidebar","listItems","sidebarItems","toArray","element","isInitialized","on","stopPropagation","apply","arguments","lastPostNumber","humanTime","args","setTitleCount","Page","initializers","routes","path","postComponents","discussionTagged","models","Discussion","tagsCompat"],"mappings":"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AAU,CAAC5L,SAAX,CAAqB8B,MAArB,GAA8B5D,mDAAK,CAACC,SAAN,CAAgB,QAAhB,CAA9B;AAEAgG,6DAAU;AACVH,+DAAY;AACZI,+DAAY;AACZH,iEAAa;AACbI,kEAAc;AACf,CAlBD,E,CAqBA;;AACA;AACA;;AAEA,mFAAcN,0DAAd,EAAsB8H,gDAAtB,E;;;;;;;;;;;ACvCA,6B;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,6D;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,mD","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","/*\n * This file is part of Flarum.\n *\n * (c) Toby Zerner <toby.zerner@gmail.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport * from './src/common';\nexport * from './src/forum';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import sortTags from './utils/sortTags';\nimport Tag from './models/Tag';\nimport tagsLabel from './helpers/tagsLabel';\nimport tagIcon from './helpers/tagIcon';\nimport tagLabel from './helpers/tagLabel';\n\nexport default {\n  'tags/utils/sortTags': sortTags,\n  'tags/models/Tag': Tag,\n  'tags/helpers/tagsLabel': tagsLabel,\n  'tags/helpers/tagIcon': tagIcon,\n  'tags/helpers/tagLabel': tagLabel\n};\n","import classList from 'flarum/utils/classList';\n\nexport default function tagIcon(tag, attrs = {}, settings = {}) {\n  const hasIcon = tag && tag.icon();\n  const { useColor = true } = settings;\n\n  attrs.className = classList([\n    attrs.className,\n    'icon',\n    hasIcon ? tag.icon() : 'TagIcon'\n  ]);\n\n  if (tag) {\n    attrs.style = attrs.style || {};\n\n    if (hasIcon) {\n      attrs.style.color = useColor ? tag.color() : '';\n    } else {\n      attrs.style.backgroundColor = tag.color();\n    }\n\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return hasIcon ? <i {...attrs}/> : <span {...attrs}/>;\n}\n","import extract from 'flarum/utils/extract';\nimport tagIcon from './tagIcon';\n\nexport default function tagLabel(tag, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'TagLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n  const tagText = tag ? tag.name() : app.translator.trans('flarum-tags.lib.deleted_tag_text');\n\n  if (tag) {\n    const color = tag.color();\n    if (color) {\n      attrs.style.backgroundColor = attrs.style.color = color;\n      attrs.className += ' colored';\n    }\n\n    if (link) {\n      attrs.title = tag.description() || '';\n      attrs.href = app.route('tag', {tags: tag.slug()});\n      attrs.config = m.route;\n    }\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return (\n    m((link ? 'a' : 'span'), attrs,\n      <span className=\"TagLabel-text\">\n        {tag && tag.icon() && tagIcon(tag, {}, {useColor: false})} {tagText}\n      </span>\n    )\n  );\n}\n","import extract from 'flarum/utils/extract';\nimport tagLabel from './tagLabel';\nimport sortTags from '../utils/sortTags';\n\nexport default function tagsLabel(tags, attrs = {}) {\n  const children = [];\n  const link = extract(attrs, 'link');\n\n  attrs.className = 'TagsLabel ' + (attrs.className || '');\n\n  if (tags) {\n    sortTags(tags).forEach(tag => {\n      if (tag || tags.length === 1) {\n        children.push(tagLabel(tag, {link}));\n      }\n    });\n  } else {\n    children.push(tagLabel());\n  }\n\n  return <span {...attrs}>{children}</span>;\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\nimport computed from 'flarum/utils/computed';\n\nexport default class Tag extends mixin(Model, {\n  name: Model.attribute('name'),\n  slug: Model.attribute('slug'),\n  description: Model.attribute('description'),\n\n  color: Model.attribute('color'),\n  backgroundUrl: Model.attribute('backgroundUrl'),\n  backgroundMode: Model.attribute('backgroundMode'),\n  icon: Model.attribute('icon'),\n\n  position: Model.attribute('position'),\n  parent: Model.hasOne('parent'),\n  children: Model.hasMany('children'),\n  defaultSort: Model.attribute('defaultSort'),\n  isChild: Model.attribute('isChild'),\n  isHidden: Model.attribute('isHidden'),\n\n  discussionCount: Model.attribute('discussionCount'),\n  lastPostedAt: Model.attribute('lastPostedAt', Model.transformDate),\n  lastPostedDiscussion: Model.hasOne('lastPostedDiscussion'),\n\n  isRestricted: Model.attribute('isRestricted'),\n  canStartDiscussion: Model.attribute('canStartDiscussion'),\n  canAddToDiscussion: Model.attribute('canAddToDiscussion'),\n\n  isPrimary: computed('position', 'parent', (position, parent) => position !== null && parent === false)\n}) {}\n","export default function sortTags(tags) {\n  return tags.slice(0).sort((a, b) => {\n    const aPos = a.position();\n    const bPos = b.position();\n\n    // If they're both secondary tags, sort them by their discussions count,\n    // descending.\n    if (aPos === null && bPos === null)\n      return b.discussionCount() - a.discussionCount();\n\n    // If just one is a secondary tag, then the primary tag should\n    // come first.\n    if (bPos === null) return -1;\n    if (aPos === null) return 1;\n\n    // If we've made it this far, we know they're both primary tags. So we'll\n    // need to see if they have parents.\n    const aParent = a.parent();\n    const bParent = b.parent();\n\n    // If they both have the same parent, then their positions are local,\n    // so we can compare them directly.\n    if (aParent === bParent) return aPos - bPos;\n\n    // If they are both child tags, then we will compare the positions of their\n    // parents.\n    else if (aParent && bParent)\n      return aParent.position() - bParent.position();\n\n    // If we are comparing a child tag with its parent, then we let the parent\n    // come first. If we are comparing an unrelated parent/child, then we\n    // compare both of the parents.\n    else if (aParent)\n      return aParent === b ? 1 : aParent.position() - bPos;\n\n    else if (bParent)\n      return bParent === a ? -1 : aPos - bParent.position();\n\n    return 0;\n  });\n}\n","import { extend, override } from 'flarum/extend';\nimport IndexPage from 'flarum/components/IndexPage';\nimport DiscussionComposer from 'flarum/components/DiscussionComposer';\n\nimport TagDiscussionModal from './components/TagDiscussionModal';\nimport tagsLabel from '../common/helpers/tagsLabel';\n\nexport default function() {\n  extend(IndexPage.prototype, 'newDiscussionAction', function(promise) {\n    const tag = app.store.getBy('tags', 'slug', this.params().tags);\n\n    if (tag) {\n      const parent = tag.parent();\n      const tags = parent ? [parent, tag] : [tag];\n      promise.then(component => component.tags = tags);\n    }\n  });\n\n  // Add tag-selection abilities to the discussion composer.\n  DiscussionComposer.prototype.tags = [];\n  DiscussionComposer.prototype.chooseTags = function() {\n    app.modal.show(\n      new TagDiscussionModal({\n        selectedTags: this.tags.slice(0),\n        onsubmit: tags => {\n          this.tags = tags;\n          this.$('textarea').focus();\n        }\n      })\n    );\n  };\n\n  // Add a tag-selection menu to the discussion composer's header, after the\n  // title.\n  extend(DiscussionComposer.prototype, 'headerItems', function(items) {\n    items.add('tags', (\n      <a className=\"DiscussionComposer-changeTags\" onclick={this.chooseTags.bind(this)}>\n        {this.tags.length\n          ? tagsLabel(this.tags)\n          : <span className=\"TagLabel untagged\">{app.translator.trans('flarum-tags.forum.composer_discussion.choose_tags_link')}</span>}\n      </a>\n    ), 10);\n  });\n\n  override(DiscussionComposer.prototype, 'onsubmit', function(original) {\n    const chosenTags = this.tags;\n    const chosenPrimaryTags = chosenTags.filter(tag => tag.position() !== null && !tag.isChild());\n    const chosenSecondaryTags = chosenTags.filter(tag => tag.position() === null);\n    if (!chosenTags.length\n      || (chosenPrimaryTags.length < app.forum.attribute('minPrimaryTags'))\n      || (chosenSecondaryTags.length < app.forum.attribute('minSecondaryTags'))) {\n      app.modal.show(\n        new TagDiscussionModal({\n          selectedTags: chosenTags,\n          onsubmit: tags => {\n            this.tags = tags;\n            original();\n          }\n        })\n      );\n    } else {\n      original();\n    }\n  });\n\n  // Add the selected tags as data to submit to the server.\n  extend(DiscussionComposer.prototype, 'data', function(data) {\n    data.relationships = data.relationships || {};\n    data.relationships.tags = this.tags;\n  });\n}\n","import { extend } from 'flarum/extend';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport Button from 'flarum/components/Button';\n\nimport TagDiscussionModal from './components/TagDiscussionModal';\n\nexport default function() {\n  // Add a control allowing the discussion to be moved to another category.\n  extend(DiscussionControls, 'moderationControls', function(items, discussion) {\n    if (discussion.canTag()) {\n      items.add('tags', Button.component({\n        children: app.translator.trans('flarum-tags.forum.discussion_controls.edit_tags_button'),\n        icon: 'fas fa-tag',\n        onclick: () => app.modal.show(new TagDiscussionModal({discussion}))\n      }));\n    }\n  });\n}\n","import { extend, override } from 'flarum/extend';\nimport IndexPage from 'flarum/components/IndexPage';\nimport DiscussionList from 'flarum/components/DiscussionList';\n\nimport TagHero from './components/TagHero';\n\nexport default function() {\n  IndexPage.prototype.currentActiveTag = null;\n\n  IndexPage.prototype.currentTag = function() {\n    if (this.currentActiveTag) {\n      return this.currentActiveTag;\n    }\n\n    const slug = this.params().tags;\n    let tag = null;\n\n    if (slug) {\n      tag = app.store.getBy('tags', 'slug', slug);\n    }\n\n    if (slug && (!tag || !tag.children())) {\n      app.store.find('tags', slug, {include: 'children'}).then(() => {\n        this.currentActiveTag = app.store.getBy('tags', 'slug', slug);\n\n        m.redraw();\n      });\n    }\n\n    if (tag) {\n      this.currentActiveTag = tag;\n    }\n  };\n\n  // If currently viewing a tag, insert a tag hero at the top of the view.\n  override(IndexPage.prototype, 'hero', function(original) {\n    const tag = this.currentTag();\n\n    if (tag) return TagHero.component({tag});\n\n    return original();\n  });\n\n  extend(IndexPage.prototype, 'view', function(vdom) {\n    const tag = this.currentTag();\n\n    if (tag) vdom.attrs.className += ' IndexPage--tag'+tag.id();\n  });\n\n  extend(IndexPage.prototype, 'config', function() {\n    const tag = this.currentTag();\n\n    if (tag) {\n      app.setTitle(tag.name());\n    }\n  });\n\n  // If currently viewing a tag, restyle the 'new discussion' button to use\n  // the tag's color, and disable if the user isn't allowed to edit.\n  extend(IndexPage.prototype, 'sidebarItems', function(items) {\n    const tag = this.currentTag();\n\n    if (tag) {\n      const color = tag.color();\n      const canStartDiscussion = tag.canStartDiscussion();\n\n      if (color) {\n        items.get('newDiscussion').props.style = {backgroundColor: color};\n      }\n\n      items.get('newDiscussion').props.disabled = !canStartDiscussion;\n      items.get('newDiscussion').props.children = app.translator.trans(canStartDiscussion ? 'core.forum.index.start_discussion_button' : 'core.forum.index.cannot_start_discussion_button');\n\n    }\n  });\n\n  // Add a parameter for the IndexPage to pass on to the DiscussionList that\n  // will let us filter discussions by tag.\n  extend(IndexPage.prototype, 'params', function(params) {\n    params.tags = m.route.param('tags');\n  });\n\n  // Translate that parameter into a gambit appended to the search query.\n  extend(DiscussionList.prototype, 'requestParams', function(params) {\n    params.include.push('tags');\n\n    if (this.props.params.tags) {\n      params.filter.q = (params.filter.q || '') + ' tag:' + this.props.params.tags;\n    }\n  });\n}\n","import { extend } from 'flarum/extend';\nimport DiscussionListItem from 'flarum/components/DiscussionListItem';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport DiscussionHero from 'flarum/components/DiscussionHero';\n\nimport tagsLabel from '../common/helpers/tagsLabel';\nimport sortTags from '../common/utils/sortTags';\n\nexport default function() {\n  // Add tag labels to each discussion in the discussion list.\n  extend(DiscussionListItem.prototype, 'infoItems', function(items) {\n    const tags = this.props.discussion.tags();\n\n    if (tags && tags.length) {\n      items.add('tags', tagsLabel(tags), 10);\n    }\n  });\n\n  // Include a discussion's tags when fetching it.\n  extend(DiscussionPage.prototype, 'params', function(params) {\n    params.include.push('tags');\n  });\n\n  // Restyle a discussion's hero to use its first tag's color.\n  extend(DiscussionHero.prototype, 'view', function(view) {\n    const tags = sortTags(this.props.discussion.tags());\n\n    if (tags && tags.length) {\n      const color = tags[0].color();\n      if (color) {\n        view.attrs.style = {backgroundColor: color};\n        view.attrs.className += ' DiscussionHero--colored';\n      }\n    }\n  });\n\n  // Add a list of a discussion's tags to the discussion hero, displayed\n  // before the title. Put the title on its own line.\n  extend(DiscussionHero.prototype, 'items', function(items) {\n    const tags = this.props.discussion.tags();\n\n    if (tags && tags.length) {\n      items.add('tags', tagsLabel(tags, {link: true}), 5);\n    }\n  });\n}\n","import { extend } from 'flarum/extend';\nimport IndexPage from 'flarum/components/IndexPage';\nimport Separator from 'flarum/components/Separator';\nimport LinkButton from 'flarum/components/LinkButton';\n\nimport TagLinkButton from './components/TagLinkButton';\nimport TagsPage from './components/TagsPage';\nimport sortTags from '../common/utils/sortTags';\n\nexport default function() {\n  // Add a link to the tags page, as well as a list of all the tags,\n  // to the index page's sidebar.\n  extend(IndexPage.prototype, 'navItems', function(items) {\n    items.add('tags', LinkButton.component({\n      icon: 'fas fa-th-large',\n      children: app.translator.trans('flarum-tags.forum.index.tags_link'),\n      href: app.route('tags')\n    }), -10);\n\n    if (app.current instanceof TagsPage) return;\n\n    items.add('separator', Separator.component(), -12);\n\n    const params = this.stickyParams();\n    const tags = app.store.all('tags');\n    const currentTag = this.currentTag();\n\n    const addTag = tag => {\n      let active = currentTag === tag;\n\n      if (!active && currentTag) {\n        active = currentTag.parent() === tag;\n      }\n\n      items.add('tag' + tag.id(), TagLinkButton.component({tag, params, active}), -14);\n    };\n\n    sortTags(tags)\n      .filter(tag => tag.position() !== null && (!tag.isChild() || (currentTag && (tag.parent() === currentTag || tag.parent() === currentTag.parent()))))\n      .forEach(addTag);\n\n    const more = tags\n      .filter(tag => tag.position() === null)\n      .sort((a, b) => b.discussionCount() - a.discussionCount());\n\n    more.splice(0, 3).forEach(addTag);\n\n    if (more.length) {\n      items.add('moreTags', LinkButton.component({\n        children: app.translator.trans('flarum-tags.forum.index.more_link'),\n        href: app.route('tags')\n      }), -16);\n    }\n  });\n}\n","import compat from '../common/compat';\n\nimport addTagFilter from './addTagFilter';\nimport addTagControl from './addTagControl';\nimport TagHero from './components/TagHero';\nimport TagDiscussionModal from './components/TagDiscussionModal';\nimport TagsPage from './components/TagsPage';\nimport DiscussionTaggedPost from './components/DiscussionTaggedPost';\nimport TagLinkButton from './components/TagLinkButton';\nimport addTagList from './addTagList';\nimport addTagLabels from './addTagLabels';\nimport addTagComposer from './addTagComposer';\n\nexport default Object.assign(compat, {\n  'tags/addTagFilter': addTagFilter,\n  'tags/addTagControl': addTagControl,\n  'tags/components/TagHero': TagHero,\n  'tags/components/TagDiscussionModal': TagDiscussionModal,\n  'tags/components/TagsPage': TagsPage,\n  'tags/components/DiscussionTaggedPost': DiscussionTaggedPost,\n  'tags/components/TagLinkButton': TagLinkButton,\n  'tags/addTagList': addTagList,\n  'tags/addTagLabels': addTagLabels,\n  'tags/addTagComposer': addTagComposer,\n});\n","import EventPost from 'flarum/components/EventPost';\nimport tagsLabel from '../../common/helpers/tagsLabel';\n\nexport default class DiscussionTaggedPost extends EventPost {\n  static initProps(props) {\n    super.initProps(props);\n\n    const oldTags = props.post.content()[0];\n    const newTags = props.post.content()[1];\n\n    function diffTags(tags1, tags2) {\n      return tags1\n        .filter(tag => tags2.indexOf(tag) === -1)\n        .map(id => app.store.getById('tags', id));\n    }\n\n    props.tagsAdded = diffTags(newTags, oldTags);\n    props.tagsRemoved = diffTags(oldTags, newTags);\n  }\n\n  icon() {\n    return 'fas fa-tag';\n  }\n\n  descriptionKey() {\n    if (this.props.tagsAdded.length) {\n      if (this.props.tagsRemoved.length) {\n        return 'flarum-tags.forum.post_stream.added_and_removed_tags_text';\n      }\n\n      return 'flarum-tags.forum.post_stream.added_tags_text';\n    }\n\n    return 'flarum-tags.forum.post_stream.removed_tags_text';\n  }\n\n  descriptionData() {\n    const data = {};\n\n    if (this.props.tagsAdded.length) {\n      data.tagsAdded = app.translator.transChoice('flarum-tags.forum.post_stream.tags_text', this.props.tagsAdded.length, {\n        tags: tagsLabel(this.props.tagsAdded, {link: true}),\n        count: this.props.tagsAdded.length\n      });\n    }\n\n    if (this.props.tagsRemoved.length) {\n      data.tagsRemoved = app.translator.transChoice('flarum-tags.forum.post_stream.tags_text', this.props.tagsRemoved.length, {\n        tags: tagsLabel(this.props.tagsRemoved, {link: true}),\n        count: this.props.tagsRemoved.length\n      });\n    }\n\n    return data;\n  }\n}\n","import Modal from 'flarum/components/Modal';\nimport DiscussionPage from 'flarum/components/DiscussionPage';\nimport Button from 'flarum/components/Button';\nimport highlight from 'flarum/helpers/highlight';\nimport classList from 'flarum/utils/classList';\nimport extractText from 'flarum/utils/extractText';\nimport KeyboardNavigatable from 'flarum/utils/KeyboardNavigatable';\n\nimport tagLabel from '../../common/helpers/tagLabel';\nimport tagIcon from '../../common/helpers/tagIcon';\nimport sortTags from '../../common/utils/sortTags';\n\nexport default class TagDiscussionModal extends Modal {\n  init() {\n    super.init();\n\n    this.tags = app.store.all('tags');\n\n    if (this.props.discussion) {\n      this.tags = this.tags.filter(tag => tag.canAddToDiscussion() || this.props.discussion.tags().indexOf(tag) !== -1);\n    } else {\n      this.tags = this.tags.filter(tag => tag.canStartDiscussion());\n    }\n\n    this.tags = sortTags(this.tags);\n\n    this.selected = [];\n    this.filter = m.prop('');\n    this.index = this.tags[0].id();\n    this.focused = false;\n\n    if (this.props.selectedTags) {\n      this.props.selectedTags.map(this.addTag.bind(this));\n    } else if (this.props.discussion) {\n      this.props.discussion.tags().map(this.addTag.bind(this));\n    }\n\n    this.minPrimary = app.forum.attribute('minPrimaryTags');\n    this.maxPrimary = app.forum.attribute('maxPrimaryTags');\n    this.minSecondary = app.forum.attribute('minSecondaryTags');\n    this.maxSecondary = app.forum.attribute('maxSecondaryTags');\n\n    this.navigator = new KeyboardNavigatable();\n    this.navigator\n      .onUp(() => this.setIndex(this.getCurrentNumericIndex() - 1, true))\n      .onDown(() => this.setIndex(this.getCurrentNumericIndex() + 1, true))\n      .onSelect(this.select.bind(this))\n      .onRemove(() => this.selected.splice(this.selected.length - 1, 1));\n  }\n\n  primaryCount() {\n    return this.selected.filter(tag => tag.isPrimary()).length;\n  }\n\n  secondaryCount() {\n    return this.selected.filter(tag => !tag.isPrimary()).length;\n  }\n\n  /**\n   * Add the given tag to the list of selected tags.\n   *\n   * @param {Tag} tag\n   */\n  addTag(tag) {\n    if (!tag.canStartDiscussion()) return;\n\n    // If this tag has a parent, we'll also need to add the parent tag to the\n    // selected list if it's not already in there.\n    const parent = tag.parent();\n    if (parent) {\n      const index = this.selected.indexOf(parent);\n      if (index === -1) {\n        this.selected.push(parent);\n      }\n    }\n\n    this.selected.push(tag);\n  }\n\n  /**\n   * Remove the given tag from the list of selected tags.\n   *\n   * @param {Tag} tag\n   */\n  removeTag(tag) {\n    const index = this.selected.indexOf(tag);\n    if (index !== -1) {\n      this.selected.splice(index, 1);\n\n      // Look through the list of selected tags for any tags which have the tag\n      // we just removed as their parent. We'll need to remove them too.\n      this.selected\n        .filter(selected => selected.parent() === tag)\n        .forEach(this.removeTag.bind(this));\n    }\n  }\n\n  className() {\n    return 'TagDiscussionModal';\n  }\n\n  title() {\n    return this.props.discussion\n      ? app.translator.trans('flarum-tags.forum.choose_tags.edit_title', {title: <em>{this.props.discussion.title()}</em>})\n      : app.translator.trans('flarum-tags.forum.choose_tags.title');\n  }\n\n  getInstruction(primaryCount, secondaryCount) {\n    if (primaryCount < this.minPrimary) {\n      const remaining = this.minPrimary - primaryCount;\n      return app.translator.transChoice('flarum-tags.forum.choose_tags.choose_primary_placeholder', remaining, {count: remaining});\n    } else if (secondaryCount < this.minSecondary) {\n      const remaining = this.minSecondary - secondaryCount;\n      return app.translator.transChoice('flarum-tags.forum.choose_tags.choose_secondary_placeholder', remaining, {count: remaining});\n    }\n\n    return '';\n  }\n\n  content() {\n    let tags = this.tags;\n    const filter = this.filter().toLowerCase();\n    const primaryCount = this.primaryCount();\n    const secondaryCount = this.secondaryCount();\n\n    // Filter out all child tags whose parents have not been selected. This\n    // makes it impossible to select a child if its parent hasn't been selected.\n    tags = tags.filter(tag => {\n      const parent = tag.parent();\n      return parent === false || this.selected.indexOf(parent) !== -1;\n    });\n\n    // If the number of selected primary/secondary tags is at the maximum, then\n    // we'll filter out all other tags of that type.\n    if (primaryCount >= this.maxPrimary) {\n      tags = tags.filter(tag => !tag.isPrimary() || this.selected.indexOf(tag) !== -1);\n    }\n\n    if (secondaryCount >= this.maxSecondary) {\n      tags = tags.filter(tag => tag.isPrimary() || this.selected.indexOf(tag) !== -1);\n    }\n\n    // If the user has entered text in the filter input, then filter by tags\n    // whose name matches what they've entered.\n    if (filter) {\n      tags = tags.filter(tag => tag.name().substr(0, filter.length).toLowerCase() === filter);\n    }\n\n    if (tags.indexOf(this.index) === -1) this.index = tags[0];\n\n    const inputWidth = Math.max(extractText(this.getInstruction(primaryCount, secondaryCount)).length, this.filter().length);\n\n    return [\n      <div className=\"Modal-body\">\n        <div className=\"TagDiscussionModal-form\">\n          <div className=\"TagDiscussionModal-form-input\">\n            <div className={'TagsInput FormControl ' + (this.focused ? 'focus' : '')}\n              onclick={() => this.$('.TagsInput input').focus()}\n            >\n              <span className=\"TagsInput-selected\">\n                {this.selected.map(tag =>\n                  <span className=\"TagsInput-tag\" onclick={() => {\n                    this.removeTag(tag);\n                    this.onready();\n                  }}>\n                    {tagLabel(tag)}\n                  </span>\n                )}\n              </span>\n              <input className=\"FormControl\"\n                placeholder={extractText(this.getInstruction(primaryCount, secondaryCount))}\n                value={this.filter()}\n                style={{ width: inputWidth + 'ch' }}\n                oninput={m.withAttr('value', this.filter)}\n                onkeydown={this.navigator.navigate.bind(this.navigator)}\n                onfocus={() => this.focused = true}\n                onblur={() => this.focused = false}/>\n            </div>\n          </div>\n          <div className=\"TagDiscussionModal-form-submit App-primaryControl\">\n            {Button.component({\n              type: 'submit',\n              className: 'Button Button--primary',\n              disabled: primaryCount < this.minPrimary || secondaryCount < this.minSecondary,\n              icon: 'fas fa-check',\n              children: app.translator.trans('flarum-tags.forum.choose_tags.submit_button')\n            })}\n          </div>\n        </div>\n      </div>,\n\n      <div className=\"Modal-footer\">\n        <ul className=\"TagDiscussionModal-list SelectTagList\">\n          {tags\n            .filter(tag => filter || !tag.parent() || this.selected.indexOf(tag.parent()) !== -1)\n            .map(tag => (\n              <li data-index={tag.id()}\n                className={classList({\n                  pinned: tag.position() !== null,\n                  child: !!tag.parent(),\n                  colored: !!tag.color(),\n                  selected: this.selected.indexOf(tag) !== -1,\n                  active: this.index === tag\n                })}\n                style={{color: tag.color()}}\n                onmouseover={() => this.index = tag}\n                onclick={this.toggleTag.bind(this, tag)}\n              >\n                {tagIcon(tag)}\n                <span className=\"SelectTagListItem-name\">\n                  {highlight(tag.name(), filter)}\n                </span>\n                {tag.description()\n                  ? (\n                    <span className=\"SelectTagListItem-description\">\n                      {tag.description()}\n                    </span>\n                  ) : ''}\n              </li>\n            ))}\n        </ul>\n      </div>\n    ];\n  }\n\n  toggleTag(tag) {\n    const index = this.selected.indexOf(tag);\n\n    if (index !== -1) {\n      this.removeTag(tag);\n    } else {\n      this.addTag(tag);\n    }\n\n    if (this.filter()) {\n      this.filter('');\n      this.index = this.tags[0];\n    }\n\n    this.onready();\n  }\n\n  select(e) {\n    // Ctrl + Enter submits the selection, just Enter completes the current entry\n    if (e.metaKey || e.ctrlKey || this.selected.indexOf(this.index) !== -1) {\n      if (this.selected.length) {\n        this.$('form').submit();\n      }\n    } else {\n      this.getItem(this.index)[0].dispatchEvent(new Event('click'));\n    }\n  }\n\n  selectableItems() {\n    return this.$('.TagDiscussionModal-list > li');\n  }\n\n  getCurrentNumericIndex() {\n    return this.selectableItems().index(\n      this.getItem(this.index)\n    );\n  }\n\n  getItem(index) {\n    return this.selectableItems().filter(`[data-index=\"${index.id()}\"]`);\n  }\n\n  setIndex(index, scrollToItem) {\n    const $items = this.selectableItems();\n    const $dropdown = $items.parent();\n\n    if (index < 0) {\n      index = $items.length - 1;\n    } else if (index >= $items.length) {\n      index = 0;\n    }\n\n    const $item = $items.eq(index);\n\n    this.index = app.store.getById('tags', $item.attr('data-index'));\n\n    m.redraw();\n\n    if (scrollToItem) {\n      const dropdownScroll = $dropdown.scrollTop();\n      const dropdownTop = $dropdown.offset().top;\n      const dropdownBottom = dropdownTop + $dropdown.outerHeight();\n      const itemTop = $item.offset().top;\n      const itemBottom = itemTop + $item.outerHeight();\n\n      let scrollTop;\n      if (itemTop < dropdownTop) {\n        scrollTop = dropdownScroll - dropdownTop + itemTop - parseInt($dropdown.css('padding-top'), 10);\n      } else if (itemBottom > dropdownBottom) {\n        scrollTop = dropdownScroll - dropdownBottom + itemBottom + parseInt($dropdown.css('padding-bottom'), 10);\n      }\n\n      if (typeof scrollTop !== 'undefined') {\n        $dropdown.stop(true).animate({scrollTop}, 100);\n      }\n    }\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    const discussion = this.props.discussion;\n    const tags = this.selected;\n\n    if (discussion) {\n      discussion.save({relationships: {tags}})\n        .then(() => {\n          if (app.current instanceof DiscussionPage) {\n            app.current.stream.update();\n          }\n          m.redraw();\n        });\n    }\n\n    if (this.props.onsubmit) this.props.onsubmit(tags);\n\n    app.modal.close();\n\n    m.redraw.strategy('none');\n  }\n}\n","import Component from 'flarum/Component';\nimport tagIcon from '../../common/helpers/tagIcon';\n\nexport default class TagHero extends Component {\n  view() {\n    const tag = this.props.tag;\n    const color = tag.color();\n\n    return (\n      <header className={'Hero TagHero' + (color ? ' TagHero--colored' : '')}\n        style={color ? {color: '#fff', backgroundColor: color} : ''}>\n        <div className=\"container\">\n          <div className=\"containerNarrow\">\n            <h2 className=\"Hero-title\">{tag.icon() && tagIcon(tag, {}, { useColor: false })} {tag.name()}</h2>\n            <div className=\"Hero-subtitle\">{tag.description()}</div>\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n","import LinkButton from 'flarum/components/LinkButton';\nimport tagIcon from '../../common/helpers/tagIcon';\n\nexport default class TagLinkButton extends LinkButton {\n  view() {\n    const tag = this.props.tag;\n    const active = this.constructor.isActive(this.props);\n    const description = tag && tag.description();\n\n    return (\n      <a className={'TagLinkButton hasIcon ' + (tag.isChild() ? 'child' : '')} href={this.props.href} config={m.route}\n        style={active && tag ? {color: tag.color()} : ''}\n        title={description || ''}>\n        {tagIcon(tag, {className: 'Button-icon'})}\n        {this.props.children}\n      </a>\n    );\n  }\n\n  static initProps(props) {\n    const tag = props.tag;\n\n    props.params.tags = tag ? tag.slug() : 'untagged';\n    props.href = app.route('tag', props.params);\n    props.children = tag ? tag.name() : app.translator.trans('flarum-tags.forum.index.untagged_link');\n  }\n}\n","import Page from 'flarum/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport listItems from 'flarum/helpers/listItems';\nimport humanTime from 'flarum/helpers/humanTime';\n\nimport tagLabel from '../../common/helpers/tagLabel';\nimport sortTags from '../../common/utils/sortTags';\n\nexport default class TagsPage extends Page {\n  init() {\n    super.init();\n\n    this.tags = [];\n\n    app.store.find('tags').then(() => {\n      let tags = app.store.all('tags').filter(tag => !tag.parent());\n\n      this.tags = sortTags(tags);\n\n      m.redraw();\n    });\n    // this.tags = sortTags(app.store.all('tags').filter(tag => !tag.parent()));\n\n    app.history.push('tags', app.translator.trans('flarum-tags.forum.header.back_to_tags_tooltip'));\n  }\n\n  view() {\n    const pinned = this.tags.filter(tag => tag.position() !== null);\n    const cloud = this.tags.filter(tag => tag.position() === null);\n\n    return (\n      <div className=\"TagsPage\">\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <nav className=\"TagsPage-nav IndexPage-nav sideNav\" config={IndexPage.prototype.affixSidebar}>\n            <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n          </nav>\n\n          <div className=\"TagsPage-content sideNavOffset\">\n            <ul className=\"TagTiles\">\n              {pinned.map(tag => {\n                const lastPostedDiscussion = tag.lastPostedDiscussion();\n                const children = sortTags(app.store.all('tags').filter(child => child.parent() === tag));\n\n                return (\n                  <li className={'TagTile ' + (tag.color() ? 'colored' : '')}\n                    style={{backgroundColor: tag.color()}}>\n                    <a className=\"TagTile-info\" href={app.route.tag(tag)} config={m.route}>\n                      <h3 className=\"TagTile-name\">{tag.name()}</h3>\n                      <p className=\"TagTile-description\">{tag.description()}</p>\n                      {children\n                        ? (\n                          <div className=\"TagTile-children\">\n                            {children.map(child => [\n                              <a href={app.route.tag(child)} config={function(element, isInitialized) {\n                                if (isInitialized) return;\n                                $(element).on('click', e => e.stopPropagation());\n                                m.route.apply(this, arguments);\n                              }}>\n                                {child.name()}\n                              </a>,\n                              ' '\n                            ])}\n                          </div>\n                        ) : ''}\n                    </a>\n                    {lastPostedDiscussion\n                      ? (\n                        <a className=\"TagTile-lastPostedDiscussion\"\n                          href={app.route.discussion(lastPostedDiscussion, lastPostedDiscussion.lastPostNumber())}\n                          config={m.route}>\n                          <span className=\"TagTile-lastPostedDiscussion-title\">{lastPostedDiscussion.title()}</span>\n                          {humanTime(lastPostedDiscussion.lastPostedAt())}\n                        </a>\n                      ) : (\n                        <span className=\"TagTile-lastPostedDiscussion\"/>\n                      )}\n                  </li>\n                );\n              })}\n            </ul>\n\n            {cloud.length ? (\n              <div className=\"TagCloud\">\n                {cloud.map(tag => [\n                  tagLabel(tag, {link: true}),\n                  ' ',\n                ])}\n              </div>\n            ) : ''}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config(...args) {\n    super.config(...args);\n\n    app.setTitle(app.translator.trans('flarum-tags.forum.all_tags.meta_title_text'));\n    app.setTitleCount(0);\n  }\n}\n","import Model from 'flarum/Model';\nimport Discussion from 'flarum/models/Discussion';\nimport IndexPage from 'flarum/components/IndexPage';\n\nimport Tag from '../common/models/Tag';\nimport TagsPage from './components/TagsPage';\nimport DiscussionTaggedPost from './components/DiscussionTaggedPost';\n\nimport addTagList from './addTagList';\nimport addTagFilter from './addTagFilter';\nimport addTagLabels from './addTagLabels';\nimport addTagControl from './addTagControl';\nimport addTagComposer from './addTagComposer';\n\napp.initializers.add('flarum-tags', function(app) {\n  app.routes.tags = {path: '/tags', component: TagsPage.component()};\n  app.routes.tag = {path: '/t/:tags', component: IndexPage.component()};\n\n  app.route.tag = tag => app.route('tag', {tags: tag.slug()});\n\n  app.postComponents.discussionTagged = DiscussionTaggedPost;\n\n  app.store.models.tags = Tag;\n\n  Discussion.prototype.tags = Model.hasMany('tags');\n  Discussion.prototype.canTag = Model.attribute('canTag');\n\n  addTagList();\n  addTagFilter();\n  addTagLabels();\n  addTagControl();\n  addTagComposer();\n});\n\n\n// Expose compat API\nimport tagsCompat from './compat';\nimport { compat } from '@flarum/core/forum';\n\nObject.assign(compat, tagsCompat);","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/DiscussionHero'];","module.exports = flarum.core.compat['components/DiscussionList'];","module.exports = flarum.core.compat['components/DiscussionListItem'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['components/EventPost'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Separator'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/highlight'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/KeyboardNavigatable'];","module.exports = flarum.core.compat['utils/classList'];","module.exports = flarum.core.compat['utils/computed'];","module.exports = flarum.core.compat['utils/extract'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}